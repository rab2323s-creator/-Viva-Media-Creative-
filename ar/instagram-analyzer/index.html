 <!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <meta name="theme-color" content="#071233">

  <title>Ø­Ø§Ø³Ø¨Ø© Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„ Ø¹Ù„Ù‰ Ø¥Ù†Ø³ØªØºØ±Ø§Ù… (Engagement Rate) â€” Ø£Ø¯Ø§Ø© Ù…Ø¬Ø§Ù†ÙŠØ© | Viva Media Creative</title>
  <meta name="description" content="Ø§Ø­Ø³Ø¨ Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ø¹Ù„Ù‰ Ø¥Ù†Ø³ØªØºØ±Ø§Ù… Ø®Ù„Ø§Ù„ Ø«ÙˆØ§Ù†Ù: Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¥Ø¹Ø¬Ø§Ø¨Ø§Øª ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§ØªØŒ Ø§Ù„ÙˆØ³ÙŠØ· (Median)ØŒ Ø£Ø¹Ù„Ù‰/Ø£Ù‚Ù„ Ù…Ù†Ø´ÙˆØ±ØŒ ÙˆØªÙˆØµÙŠØ§Øª Ø¨Ø£ÙØ¶Ù„ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ù†Ø´Ø±. Ø£Ø¯Ø§Ø© Ù…Ø¬Ø§Ù†ÙŠØ© Ù…Ù† Viva Media Creative.">
  <meta name="robots" content="index,follow,max-image-preview:large,max-snippet:-1,max-video-preview:-1">
  <meta name="keywords" content="ØªØ­Ù„ÙŠÙ„ Ø§Ù†Ø³ØªØºØ±Ø§Ù…, Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„, Engagement Rate, Instagram analyzer, Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù†Ø³ØªØºØ±Ø§Ù…, Ù…ØªÙˆØ³Ø· Ø§Ù„Ù„Ø§ÙŠÙƒØ§Øª, Ø£ÙØ¶Ù„ ÙˆÙ‚Øª Ù„Ù„Ù†Ø´Ø± Ø§Ù†Ø³ØªØºØ±Ø§Ù…">

  <!-- âœ… Ø¶Ø¹ Ø±Ø§Ø¨Ø· ØµÙØ­ØªÙƒ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ù‡Ù†Ø§ -->
  <link rel="canonical" href="https://vivamediacreative.com/ar/instagram-analyzer/">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:locale" content="ar_AR">
  <meta property="og:site_name" content="Viva Media Creative">
  <meta property="og:title" content="Ø­Ø§Ø³Ø¨Ø© Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„ Ø¹Ù„Ù‰ Ø¥Ù†Ø³ØªØºØ±Ø§Ù… â€” Ø£Ø¯Ø§Ø© Ù…Ø¬Ø§Ù†ÙŠØ© | Viva Media Creative">
  <meta property="og:description" content="Ø§Ø­Ø³Ø¨ Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¥Ø¹Ø¬Ø§Ø¨Ø§Øª ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§ØªØŒ Ø§Ù„ÙˆØ³ÙŠØ·ØŒ Ø£Ø¹Ù„Ù‰/Ø£Ù‚Ù„ Ù…Ù†Ø´ÙˆØ±ØŒ ÙˆØªÙˆØµÙŠØ§Øª Ø¨Ø£ÙØ¶Ù„ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ù†Ø´Ø±.">
  <meta property="og:url" content="https://vivamediacreative.com/ar/instagram-analyzer/">
  <!-- Ø§Ø®ØªÙŠØ§Ø±ÙŠ: Ø¶Ø¹ ØµÙˆØ±Ø© OG (1200x630) -->
  <!-- <meta property="og:image" content="https://vivamediacreative.com/assets/og-instagram-analyzer.jpg"> -->

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Ø­Ø§Ø³Ø¨Ø© Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„ Ø¹Ù„Ù‰ Ø¥Ù†Ø³ØªØºØ±Ø§Ù… â€” Viva Media Creative">
  <meta name="twitter:description" content="Ø§Ø­Ø³Ø¨ Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ + ØªÙˆØµÙŠØ§Øª Ø³Ø±ÙŠØ¹Ø© + ØªÙ‚Ø±ÙŠØ± Ù‚Ø§Ø¨Ù„ Ù„Ù„Ù†Ø³Ø® ÙˆØ§Ù„Ø·Ø¨Ø§Ø¹Ø©.">

  <style>
    :root{
      --bg:#0f172a;
      --card:#0b1220;
      --accent:#06b6d4;
      --muted:#94a3b8;
      --glass: rgba(255,255,255,0.04);
      --danger:#fca5a5;
      --ok:#86efac;
      --line: rgba(255,255,255,0.06);
    }
    *{box-sizing:border-box;font-family:"Segoe UI",Tahoma,Arial,"Noto Kufi Arabic",sans-serif}
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#071233 0%, #071a2b 100%);color:#e6eef8}
    a{color:inherit}
    .container{max-width:1020px;margin:26px auto;padding:18px}
    header{text-align:center;margin-bottom:18px}
    header h1{font-size:28px;margin:0 0 8px}
    header p{font-size:15px;color:var(--muted);margin:0 auto;max-width:860px;line-height:1.7}
    .card{background:var(--card);padding:20px;border-radius:14px;box-shadow:0 10px 24px rgba(2,6,23,0.6);margin-bottom:14px;border:1px solid rgba(255,255,255,0.04)}
    .grid{display:grid;gap:12px}
    form{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
    label{display:block;font-size:13px;margin-bottom:6px;color:var(--muted)}
    input[type="text"], input[type="number"], select, textarea{
      width:100%;padding:10px 11px;border-radius:10px;border:1px solid rgba(255,255,255,0.08);
      background:var(--glass);color:inherit;outline:none
    }
    textarea{min-height:86px;resize:vertical}
    .full{grid-column:1/-1}
    .row3{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    .actions{display:flex;gap:10px;justify-content:flex-start;margin-top:8px;flex-wrap:wrap}
    button{
      background:var(--accent);border:none;padding:10px 14px;border-radius:12px;color:#012;cursor:pointer;font-weight:800
    }
    button.secondary{background:transparent;border:1px solid var(--line);color:var(--muted)}
    button.secondary:hover{border-color:rgba(255,255,255,0.16)}
    .results{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:12px}
    .stat{
      background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      padding:14px;border-radius:12px;text-align:center;border:1px solid rgba(255,255,255,0.05)
    }
    .stat h3{margin:0;font-size:18px}
    .stat p{margin:6px 0 0;color:var(--muted);font-size:13px}
    .note{font-size:13px;color:var(--muted);margin-top:10px;line-height:1.7}
    .warn{display:none;margin-top:10px;padding:10px 12px;border-radius:12px;border:1px solid rgba(252,165,165,0.35);background:rgba(252,165,165,0.08);color:var(--danger)}
    .ok{border-color:rgba(134,239,172,0.35);background:rgba(134,239,172,0.08);color:var(--ok)}
    .pill{display:inline-flex;gap:8px;align-items:center;padding:7px 10px;border:1px solid var(--line);border-radius:999px;color:var(--muted);font-size:12px}
    .divider{height:1px;background:var(--line);margin:12px 0}
    .cta{
      display:flex;align-items:center;justify-content:space-between;gap:12px;
      padding:14px;border:1px solid rgba(6,182,212,0.35);
      background:rgba(6,182,212,0.08);border-radius:14px
    }
    .cta a{
      display:inline-block;padding:10px 14px;background:var(--accent);color:#012;border-radius:12px;text-decoration:none;font-weight:900;white-space:nowrap
    }
    footer{margin-top:16px;color:var(--muted);font-size:13px;text-align:center}
    details{border:1px solid var(--line);border-radius:12px;padding:10px 12px;background:rgba(255,255,255,0.02)}
    summary{cursor:pointer;font-weight:800}
    @media(max-width:900px){
      form{grid-template-columns:1fr}
      .row3{grid-template-columns:1fr}
      .results{grid-template-columns:repeat(2,1fr)}
      header h1{font-size:24px}
    }
    @media(max-width:420px){
      .results{grid-template-columns:1fr}
      .cta{flex-direction:column;align-items:flex-start}
      .cta a{width:100%;text-align:center}
    }
  </style>

  <!-- âœ… Structured Data: Breadcrumb + App + FAQ -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@graph":[
      {
        "@type":"BreadcrumbList",
        "itemListElement":[
          {"@type":"ListItem","position":1,"name":"Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©","item":"https://vivamediacreative.com/ar/"},
          {"@type":"ListItem","position":2,"name":"Ø£Ø¯Ø§Ø© ØªØ­Ù„ÙŠÙ„ Ø¥Ù†Ø³ØªØºØ±Ø§Ù…","item":"https://vivamediacreative.com/ar/instagram-analyzer/"}
        ]
      },
      {
        "@type":"SoftwareApplication",
        "name":"Ø£Ø¯Ø§Ø© ØªØ­Ù„ÙŠÙ„ Ø­Ø³Ø§Ø¨ Ø¥Ù†Ø³ØªØºØ±Ø§Ù…",
        "applicationCategory":"BusinessApplication",
        "operatingSystem":"Web",
        "offers":{"@type":"Offer","price":"0","priceCurrency":"EUR"},
        "publisher":{"@type":"Organization","name":"Viva Media Creative","url":"https://vivamediacreative.com/ar/"},
        "url":"https://vivamediacreative.com/ar/instagram-analyzer/",
        "description":"Ø£Ø¯Ø§Ø© Ù…Ø¬Ø§Ù†ÙŠØ© Ù„Ø­Ø³Ø§Ø¨ Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„ Ø¹Ù„Ù‰ Ø¥Ù†Ø³ØªØºØ±Ø§Ù… ÙˆÙ…ØªÙˆØ³Ø· Ø§Ù„Ø¥Ø¹Ø¬Ø§Ø¨Ø§Øª ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª ÙˆØ§Ù„ÙˆØ³ÙŠØ· ÙˆØ£Ø¹Ù„Ù‰/Ø£Ù‚Ù„ Ù…Ù†Ø´ÙˆØ± Ù…Ø¹ ØªÙˆØµÙŠØ§Øª Ø³Ø±ÙŠØ¹Ø©."
      },
      {
        "@type":"FAQPage",
        "mainEntity":[
          {
            "@type":"Question",
            "name":"ÙƒÙŠÙ ÙŠØªÙ… Ø­Ø³Ø§Ø¨ Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„ Ø¹Ù„Ù‰ Ø¥Ù†Ø³ØªØºØ±Ø§Ù…ØŸ",
            "acceptedAnswer":{"@type":"Answer","text":"Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø£ÙƒØ«Ø± Ø´ÙŠÙˆØ¹Ù‹Ø§: (Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¥Ø¹Ø¬Ø§Ø¨Ø§Øª + Ù…ØªÙˆØ³Ø· Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª) Ã· Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ† Ã— 100."}
          },
          {
            "@type":"Question",
            "name":"Ù‡Ù„ ÙŠÙ…ÙƒÙ† Ø¥Ø¯Ø®Ø§Ù„ Ù‚Ø§Ø¦Ù…Ø© Ù„Ø§ÙŠÙƒØ§Øª ÙˆØªØ¹Ù„ÙŠÙ‚Ø§Øª Ø¨Ø¯Ù„ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ØŸ",
            "acceptedAnswer":{"@type":"Answer","text":"Ù†Ø¹Ù…. ÙŠÙ…ÙƒÙ†Ùƒ Ù„ØµÙ‚ Ø£Ø±Ù‚Ø§Ù… Ù…ÙØµÙˆÙ„Ø© Ø¨Ù…Ø³Ø§ÙØ© Ø£Ùˆ ÙØ§ØµÙ„Ø© (Ø­ØªÙ‰ Ø§Ù„ÙØ§ØµÙ„Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)ØŒ ÙˆØ³ØªÙ‚ÙˆÙ… Ø§Ù„Ø£Ø¯Ø§Ø© Ø¨Ø§Ø³ØªÙ†ØªØ§Ø¬ Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§."}
          },
          {
            "@type":"Question",
            "name":"Ù‡Ù„ Ø£ÙØ¶Ù„ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ù†Ø´Ø± Ø¯Ù‚ÙŠÙ‚Ø© 100%ØŸ",
            "acceptedAnswer":{"@type":"Answer","text":"Ø§Ù„ØªÙˆØµÙŠØ§Øª Ù‡Ù†Ø§ Ø¹Ø§Ù…Ø©. Ø§Ù„Ø£ÙØ¶Ù„ Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨ÙŠØ§Ù†Ø§Øª Insights Ø£Ùˆ Ù†Ø´Ø§Ø· Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ† Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ÙˆÙ‚Øª Ù†Ø´Ø± Ù…Ø®ØµØµ."}
          }
        ]
      }
    ]
  }
  </script>
</head>

<body>
  <div class="container">
    <header>
      <h1>Ø­Ø§Ø³Ø¨Ø© Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„ Ø¹Ù„Ù‰ Ø¥Ù†Ø³ØªØºØ±Ø§Ù…</h1>
      <p>
        Ø§Ø­Ø³Ø¨ <strong>Engagement Rate</strong> Ø¨Ø¯Ù‚Ø© Ø®Ù„Ø§Ù„ Ø«ÙˆØ§Ù†Ù: Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¥Ø¹Ø¬Ø§Ø¨Ø§Øª ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§ØªØŒ Ø§Ù„ÙˆØ³ÙŠØ· (Median)ØŒ Ø£Ø¹Ù„Ù‰/Ø£Ù‚Ù„ Ù…Ù†Ø´ÙˆØ±ØŒ
        ÙˆØªÙˆØµÙŠØ§Øª Ø³Ø±ÙŠØ¹Ø© Ø¨Ø£ÙØ¶Ù„ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ù†Ø´Ø± â€” Ù…Ø¬Ø§Ù†Ù‹Ø§ Ù…Ù† <strong>Viva Media Creative</strong>.
      </p>
      <div style="margin-top:10px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap">
        <span class="pill">âœ… ÙŠØ¯Ø¹Ù… 1.2k Ùˆ Ù¡ØŒÙ¢k</span>
        <span class="pill">âœ… Ø§Ø³ØªÙ†ØªØ§Ø¬ N ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§</span>
        <span class="pill">âœ… ØªÙ‚Ø±ÙŠØ± + CSV + Ù…Ø´Ø§Ø±ÙƒØ©</span>
      </div>
    </header>

    <main class="card" role="main" aria-label="Instagram Engagement Calculator">
      <noscript>
        <div class="warn" style="display:block">Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯Ø§Ø© ØªØ­ØªØ§Ø¬ ØªÙØ¹ÙŠÙ„ JavaScript Ù„ØªØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­.</div>
      </noscript>

      <form id="analyzeForm" autocomplete="on">
        <div>
          <label for="account">Ø§Ø³Ù… Ø§Ù„Ø­Ø³Ø§Ø¨ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
          <input id="account" type="text" placeholder="Ù…Ø«Ø§Ù„: mybrand_official" inputmode="text" aria-label="Ø§Ø³Ù… Ø§Ù„Ø­Ø³Ø§Ø¨">
        </div>

        <div>
          <label for="followers">Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ†</label>
          <input id="followers" type="number" placeholder="Ù…Ø«Ø§Ù„: 12500" min="1" required inputmode="numeric" aria-label="Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ†">
        </div>

        <div class="full row3">
          <div>
            <label for="nposts">Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª (N) (Ø§Ø®ØªÙŠØ§Ø±ÙŠ Ø¥Ø°Ø§ Ù„ØµÙ‚Øª Ù‚Ø§Ø¦Ù…Ø©)</label>
            <input id="nposts" type="number" placeholder="Ù…Ø«Ø§Ù„: 10" min="1" max="100" value="10" inputmode="numeric" aria-label="Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª">
          </div>
          <div>
            <label for="mode">Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø­Ø³Ø§Ø¨</label>
            <select id="mode" aria-label="Ø·Ø±ÙŠÙ‚Ø© Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙØ§Ø¹Ù„">
              <option value="followers" selected>ER by Followers (Ø§Ù„Ø£Ø´Ù‡Ø±)</option>
              <option value="perPost">ER by Posts (Ø­Ø³Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø©)</option>
            </select>
          </div>
          <div>
            <label for="category">Ù†ÙˆØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨ (Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù‚ØªØ±Ø§Ø­ Ø§Ù„Ø£ÙˆÙ‚Ø§Øª)</label>
            <select id="category" aria-label="Ù†ÙˆØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨">
              <option value="general" selected>Ø¹Ø§Ù…</option>
              <option value="shop">Ù…ØªØ¬Ø± / E-commerce</option>
              <option value="restaurant">Ù…Ø·Ø¹Ù… / ÙƒØ§ÙÙŠÙ‡</option>
              <option value="personal">Ø´Ø®ØµÙŠ / Ù…Ø¤Ø«Ø±</option>
              <option value="education">ØªØ¹Ù„ÙŠÙ…ÙŠ</option>
              <option value="services">Ø®Ø¯Ù…Ø§Øª</option>
            </select>
          </div>
        </div>

        <div class="full">
          <label for="likes">Ø§Ù„Ø¥Ø¹Ø¬Ø§Ø¨Ø§Øª (Ø¥Ù…Ø§ Ù…Ø¬Ù…ÙˆØ¹ Ø¢Ø®Ø± N Ù…Ù†Ø´ÙˆØ± Ø£Ùˆ Ù‚Ø§Ø¦Ù…Ø©)</label>
          <textarea id="likes" placeholder="Ù…Ø«Ø§Ù„ Ù‚Ø§Ø¦Ù…Ø©: 120ØŒ98ØŒ150  Ø£Ùˆ  1.2k 900 850  |  Ù…Ø«Ø§Ù„ Ù…Ø¬Ù…ÙˆØ¹: 653" aria-label="Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¥Ø¹Ø¬Ø§Ø¨Ø§Øª"></textarea>
          <p class="note">ØªÙ„Ù…ÙŠØ­: ÙŠÙ…ÙƒÙ†Ùƒ Ù„ØµÙ‚ Ø£Ø±Ù‚Ø§Ù… Ù…ÙØµÙˆÙ„Ø© Ø¨Ù…Ø³Ø§ÙØ© Ø£Ùˆ ÙØ§ØµÙ„Ø© (Ø­ØªÙ‰ Ø§Ù„ÙØ§ØµÙ„Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©). ÙŠØ¯Ø¹Ù… k/K Ù…Ø«Ù„ 1.2k.</p>
        </div>

        <div class="full">
          <label for="comments">Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª (Ø¥Ù…Ø§ Ù…Ø¬Ù…ÙˆØ¹ Ø¢Ø®Ø± N Ù…Ù†Ø´ÙˆØ± Ø£Ùˆ Ù‚Ø§Ø¦Ù…Ø©)</label>
          <textarea id="comments" placeholder="Ù…Ø«Ø§Ù„ Ù‚Ø§Ø¦Ù…Ø©: 10ØŒ8ØŒ15  Ø£Ùˆ  62" aria-label="Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª"></textarea>
        </div>

        <div class="full actions">
          <button type="submit">Ø­Ø³Ø§Ø¨ Ø§Ù„ØªØ­Ù„ÙŠÙ„</button>
          <button id="clearBtn" type="button" class="secondary">Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„</button>
          <button id="copyBtn" type="button" class="secondary">Ù†Ø³Ø® Ø§Ù„Ù†ØªØ§Ø¦Ø¬</button>
          <button id="csvBtn" type="button" class="secondary">ØªØ­Ù…ÙŠÙ„ CSV</button>
          <button id="shareBtn" type="button" class="secondary">Ù…Ø´Ø§Ø±ÙƒØ© Ø±Ø§Ø¨Ø·</button>
          <button id="printBtn" type="button" class="secondary">Ø·Ø¨Ø§Ø¹Ø© ØªÙ‚Ø±ÙŠØ±</button>
        </div>

        <div id="warn" class="warn" role="alert"></div>
      </form>

      <div id="output" style="margin-top:14px;display:none">
        <div class="results" aria-label="Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØ­Ù„ÙŠÙ„">
          <div class="stat">
            <h3 id="engagement">0%</h3>
            <p>Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„</p>
          </div>
          <div class="stat">
            <h3 id="avgLikes">0</h3>
            <p>Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¥Ø¹Ø¬Ø§Ø¨Ø§Øª Ù„ÙƒÙ„ Ù…Ù†Ø´ÙˆØ±</p>
          </div>
          <div class="stat">
            <h3 id="avgComments">0</h3>
            <p>Ù…ØªÙˆØ³Ø· Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ù„ÙƒÙ„ Ù…Ù†Ø´ÙˆØ±</p>
          </div>
        </div>

        <p id="meta" class="note"></p>
        <ul id="extraStats" style="margin:8px 0 0 0;padding-left:18px;color:var(--muted)"></ul>

        <div class="card" style="margin-top:12px">
          <h2 style="margin-top:0;font-size:18px">Ø£ÙØ¶Ù„ Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ù†Ø´Ø± â€” Ø§Ù‚ØªØ±Ø§Ø­ Ø³Ø±ÙŠØ¹</h2>
          <p class="note">Ù‡Ø°Ù‡ Ø§Ù‚ØªØ±Ø§Ø­Ø§Øª Ø¹Ø§Ù…Ø©. Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù‚ØªØ±Ø§Ø­ Ù…Ø®ØµØµ Ø¨Ø¯Ù‚Ø©ØŒ Ù†Ø­ØªØ§Ø¬ Ø¨ÙŠØ§Ù†Ø§Øª Ù†Ø´Ø§Ø· Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ† (Insights) Ø£Ùˆ ÙˆØµÙˆÙ„ API.</p>
          <ul id="bestTimes" style="margin:8px 0 0 0;padding-left:18px;color:var(--muted)"></ul>
        </div>

        <div class="card" style="margin-top:12px">
          <h2 style="margin-top:0;font-size:18px">ØªÙˆØµÙŠØ§Øª Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªÙØ§Ø¹Ù„</h2>
          <ol style="color:var(--muted);line-height:1.8">
            <li>Ø±ÙƒØ² Ø¹Ù„Ù‰ Hook Ù‚ÙˆÙŠ ÙÙŠ Ø£ÙˆÙ„ 2 Ø«Ø§Ù†ÙŠØ© (Ø®ØµÙˆØµÙ‹Ø§ Reels) Ù…Ø¹ Ù‚ÙŠÙ…Ø© ÙˆØ§Ø¶Ø­Ø©.</li>
            <li>Ø§Ù†Ø´Ø± Ø¨Ø§Ù†ØªØ¸Ø§Ù…: 3â€“5 Ù…Ù†Ø´ÙˆØ±Ø§Øª/Ø£Ø³Ø¨ÙˆØ¹ Ù„Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© + Ù‚ØµØµ ÙŠÙˆÙ…ÙŠÙ‹Ø§.</li>
            <li>Ø±Ø§Ù‚Ø¨ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ (Reels/Carousel/Stories) ÙˆØ§Ø®ØªØ¨Ø± Ø´Ù‡Ø±Ù‹Ø§ ÙƒØ§Ù…Ù„Ù‹Ø§.</li>
            <li>ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ø®Ù„Ø§Ù„ Ø§Ù„Ø³Ø§Ø¹Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ø¨Ø¹Ø¯ Ø§Ù„Ù†Ø´Ø± Ù„Ø±ÙØ¹ Ø§Ù„Ø§Ù†ØªØ´Ø§Ø±.</li>
          </ol>

          <div class="divider"></div>

          <div class="cta" aria-label="Call to action">
            <div>
              <strong style="display:block;margin-bottom:4px">Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØ­Ù„ÙŠÙ„ Ø§Ø­ØªØ±Ø§ÙÙŠ ÙˆØ®Ø·Ø© Ù…Ø­ØªÙˆÙ‰ Ù„Ø­Ø³Ø§Ø¨ÙƒØŸ</strong>
              <span style="color:var(--muted);font-size:13px">Ù†Ø±Ø³Ù„ Ù„Ùƒ ØªÙ‚Ø±ÙŠØ±Ù‹Ø§ Ù…Ø®ØµØµÙ‹Ø§ + ØªÙˆØµÙŠØ§Øª Ø¹Ù…Ù„ÙŠØ© Ù„Ø±ÙØ¹ Ø§Ù„Ù†ØªØ§Ø¦Ø¬.</span>
            </div>
            <!-- âœ… Ø¶Ø¹ Ø±Ø§Ø¨Ø· Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ -->
            <a href="https://vivamediacreative.com/ar/" rel="noopener">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a>
          </div>
        </div>

        <div class="card" style="margin-top:12px">
          <h2 style="margin-top:0;font-size:18px">Ø´Ø±Ø­ Ø³Ø±ÙŠØ¹ Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„ (Engagement Rate)</h2>
          <p class="note">
            Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„ ÙŠÙ‚ÙŠØ³ Ù†Ø³Ø¨Ø© ØªÙØ§Ø¹Ù„ Ø§Ù„Ø¬Ù…Ù‡ÙˆØ± Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨Ø¹Ø¯Ø¯ Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ† Ø£Ùˆ ÙˆÙÙ‚ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª Ø§Ù„ØªÙŠ ØªÙ… ØªØ­Ù„ÙŠÙ„Ù‡Ø§.
            Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯Ø§Ø© Ù…Ù†Ø§Ø³Ø¨Ø© Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø¨Ø³Ø±Ø¹Ø©ØŒ Ø«Ù… ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…Ø­ØªÙˆÙ‰ (Ø§Ù„ØµÙŠØ§ØºØ©/Ø§Ù„ØµÙˆØ±/Ø§Ù„Ø±ÙŠÙŠÙ„Ø²/Ø§Ù„ÙˆÙ‚Øª).
          </p>

          <details>
            <summary>Ø£Ø³Ø¦Ù„Ø© Ø´Ø§Ø¦Ø¹Ø©</summary>
            <div style="margin-top:10px;color:var(--muted);line-height:1.8">
              <p><strong>Ù‡Ù„ Ø§Ù„ÙˆØ³ÙŠØ· (Median) Ù…Ù‡Ù…ØŸ</strong> Ù†Ø¹Ù…ØŒ Ù„Ø£Ù†Ù‡ ÙŠÙ‚Ù„Ù„ ØªØ£Ø«ÙŠØ± Ù…Ù†Ø´ÙˆØ± ÙˆØ§Ø­Ø¯ â€œØ§Ù†ÙØ¬Ø±â€ ÙˆØ±ÙØ¹ Ø§Ù„Ù…ØªÙˆØ³Ø·.</p>
              <p><strong>Ù„Ù…Ø§Ø°Ø§ ØªØ®ØªÙ„Ù Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø¹Ù† Ø£Ø¯ÙˆØ§Øª Ø£Ø®Ø±Ù‰ØŸ</strong> Ø¨Ø¹Ø¶ Ø§Ù„Ø£Ø¯ÙˆØ§Øª ØªØ­Ø³Ø¨ Reach Ø£Ùˆ Saves Ø£Ùˆ Shares (ØºÙŠØ± Ù…ØªØ§Ø­ Ù‡Ù†Ø§ Ø¨Ø¯ÙˆÙ† Insights).</p>
            </div>
          </details>
        </div>
      </div>

      <p class="note">ØªÙ… ØªØ·ÙˆÙŠØ± Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯Ø§Ø© Ø¨ÙˆØ§Ø³Ø·Ø© <strong>Viva Media Creative</strong> â€” Ù†Ø³Ø®Ø© Ù…Ø­Ø³Ù‘Ù†Ø© (SEO + UX + Analytics).</p>
    </main>
   
<div class="card" style="margin-top:16px">
  <h3 style="margin-top:0">ğŸ“˜ Ø¯Ù„ÙŠÙ„ Ø´Ø§Ù…Ù„ Ù„Ø­Ø³Ø§Ø¨ Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„</h3>
  <p class="note">
    Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ±ÙŠØ¯ ÙÙ‡Ù… Ø·Ø±ÙŠÙ‚Ø© Ø­Ø³Ø§Ø¨ Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„ Ø¹Ù„Ù‰ Ø¥Ù†Ø³ØªØºØ±Ø§Ù… Ø¨Ø´ÙƒÙ„ Ø£Ø¹Ù…Ù‚ØŒ
    ÙˆÙ…Ø¹Ø±ÙØ© Ù…Ø§ ØªØ¹Ù†ÙŠÙ‡ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªÙŠ Ø­ØµÙ„Øª Ø¹Ù„ÙŠÙ‡Ø§ØŒ
    Ø§Ù‚Ø±Ø£ Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„ÙƒØ§Ù…Ù„ Ø§Ù„Ø°ÙŠ Ø£Ø¹Ø¯Ø¯Ù†Ø§Ù‡ Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ©.
  </p>
  <a href="/news/instagram-engagement-rate-calculator/" class="cta">
    Ø§Ù‚Ø±Ø£ Ø§Ù„Ø¯Ù„ÙŠÙ„: Ø­Ø§Ø³Ø¨Ø© Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„ Ø¹Ù„Ù‰ Ø¥Ù†Ø³ØªØºØ±Ø§Ù…
  </a>
</div>

    <footer>
      Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù†Ø´Ø± Â© 2025 Viva Media Creative
    </footer>
  </div>

  <script>
    // ===== Parsing & Math =====
    function normalizeNumberToken(token){
      if(!token) return NaN;
      let t = token.toString().trim();

      // Ø¯Ø¹Ù… Ø§Ù„ÙØ§ØµÙ„Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© + Ø§Ù„ÙØ§ØµÙ„ Ø§Ù„Ø¹Ø´Ø±ÙŠ Ø§Ù„Ø¹Ø±Ø¨ÙŠ
      t = t.replace(/ØŒ/g, ',').replace(/\u066B/g, '.');

      // Ø¥Ø¨Ù‚Ø§Ø¡ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ÙˆØ§Ù„ÙÙˆØ§ØµÙ„ ÙˆØ§Ù„Ù†Ù‚Ø·Ø© Ùˆ k
      t = t.replace(/[^\d.,kK]/g, '');

      const isK = /[kK]$/.test(t);
      t = t.replace(/[kK]$/, '');

      const commas = (t.match(/,/g) || []).length;
      const dots   = (t.match(/\./g) || []).length;

      // 1,234.5 Ø£Ùˆ 1.234,5
      if (commas > 0 && dots > 0){
        if (t.lastIndexOf(',') > t.lastIndexOf('.')){
          t = t.replace(/\./g, '').replace(',', '.');
        } else {
          t = t.replace(/,/g, '');
        }
      } else {
        if (commas === 1 && dots === 0) t = t.replace(',', '.');
        if (commas > 1) t = t.replace(/,/g, '');
      }

      let n = parseFloat(t);
      if (isNaN(n)) return NaN;
      if (isK) n *= 1000;
      return n;
    }

    function parseNumbersField(str){
      if(!str) return [];
      const tokens = str.split(/[\s,\n\r\t]+/).filter(Boolean);
      return tokens.map(normalizeNumberToken).filter(n => !isNaN(n));
    }

    function sum(arr){ return arr.reduce((a,b)=>a + (+b||0), 0); }

    function median(arr){
      if(!arr.length) return 0;
      const a = [...arr].sort((x,y)=>x-y);
      const mid = Math.floor(a.length/2);
      return a.length % 2 ? a[mid] : (a[mid-1] + a[mid]) / 2;
    }

    function clampInt(v, min, max){
      v = parseInt(v || 0, 10);
      if (isNaN(v)) v = min;
      return Math.min(max, Math.max(min, v));
    }

    function formatNum(n){
      return (Math.round(n)).toLocaleString();
    }

    // ===== UI =====
    const form = document.getElementById('analyzeForm');
    const elAccount = document.getElementById('account');
    const elFollowers = document.getElementById('followers');
    const elNposts = document.getElementById('nposts');
    const elLikes = document.getElementById('likes');
    const elComments = document.getElementById('comments');
    const elMode = document.getElementById('mode');
    const elCategory = document.getElementById('category');

    const warnEl = document.getElementById('warn');

    function showWarn(msg, ok=false){
      if(!msg){
        warnEl.style.display = 'none';
        warnEl.classList.remove('ok');
        warnEl.textContent = '';
        return;
      }
      warnEl.style.display = 'block';
      warnEl.textContent = msg;
      warnEl.classList.toggle('ok', !!ok);
    }

    // ===== LocalStorage (ÙŠØ­ÙØ¸ ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…) =====
    const LS_KEY = 'viva_ig_analyzer_v2';
    function saveToLS(){
      try{
        localStorage.setItem(LS_KEY, JSON.stringify({
          account: elAccount.value || '',
          followers: elFollowers.value || '',
          nposts: elNposts.value || '10',
          likes: elLikes.value || '',
          comments: elComments.value || '',
          mode: elMode.value || 'followers',
          category: elCategory.value || 'general'
        }));
      }catch(e){}
    }
    function loadFromLS(){
      try{
        const raw = localStorage.getItem(LS_KEY);
        if(!raw) return;
        const d = JSON.parse(raw);
        elAccount.value = d.account || '';
        elFollowers.value = d.followers || '';
        elNposts.value = d.nposts || '10';
        elLikes.value = d.likes || '';
        elComments.value = d.comments || '';
        elMode.value = d.mode || 'followers';
        elCategory.value = d.category || 'general';
      }catch(e){}
    }
    loadFromLS();
    [elAccount, elFollowers, elNposts, elLikes, elComments, elMode, elCategory].forEach(x => x.addEventListener('input', saveToLS));
    [elMode, elCategory].forEach(x => x.addEventListener('change', saveToLS));

    // ===== Share link (Query Params) =====
    function buildShareURL(payload){
      const url = new URL(window.location.href);
      // params Ù…Ø®ØªØµØ±Ø©
      url.searchParams.set('acc', payload.acc || '');
      url.searchParams.set('fol', String(payload.fol || ''));
      url.searchParams.set('n', String(payload.n || ''));
      url.searchParams.set('l', payload.lRaw || '');
      url.searchParams.set('c', payload.cRaw || '');
      url.searchParams.set('m', payload.mode || 'followers');
      url.searchParams.set('cat', payload.category || 'general');
      return url.toString();
    }

    function loadFromQueryParams(){
      try{
        const url = new URL(window.location.href);
        const acc = url.searchParams.get('acc');
        const fol = url.searchParams.get('fol');
        const n   = url.searchParams.get('n');
        const l   = url.searchParams.get('l');
        const c   = url.searchParams.get('c');
        const m   = url.searchParams.get('m');
        const cat = url.searchParams.get('cat');

        if(acc !== null) elAccount.value = acc;
        if(fol !== null) elFollowers.value = fol;
        if(n !== null) elNposts.value = n;
        if(l !== null) elLikes.value = l;
        if(c !== null) elComments.value = c;
        if(m !== null) elMode.value = m;
        if(cat !== null) elCategory.value = cat;

        if([acc, fol, n, l, c, m, cat].some(v => v !== null)){
          saveToLS();
        }
      }catch(e){}
    }
    loadFromQueryParams();

    // ===== Best Times (Ø£Ø°ÙƒÙ‰ Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø© + Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªÙØ§Ø¹Ù„) =====
    function suggestBestTimes(engRate, category){
      const base = {
        general: {
          high: ['Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ 18:00â€“21:00 â€” Ø°Ø±ÙˆØ© Ù…Ø³Ø§Ø¦ÙŠØ©','Ø§Ù„Ø®Ù…ÙŠØ³ 09:00â€“11:00 â€” Ù†Ø´Ø§Ø· ØµØ¨Ø§Ø­ÙŠ','Ø§Ù„Ø³Ø¨Øª 11:00â€“13:00 â€” Ù‚Ø¨Ù„ Ø§Ù„Ø¸Ù‡ÙŠØ±Ø©'],
          med:  ['Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† 18:00â€“20:00 â€” Ø¨Ø¹Ø¯ Ø§Ù„Ø¹Ù…Ù„','Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡ 10:00â€“12:00 â€” Ù…Ù†ØªØµÙ Ø§Ù„ØµØ¨Ø§Ø­','Ø§Ù„Ø¬Ù…Ø¹Ø© 16:00â€“19:00 â€” Ù‚Ø¨Ù„ Ø§Ù„ÙˆÙŠÙƒÙ†Ø¯'],
          low:  ['ÙŠÙˆÙ…ÙŠÙ‹Ø§ 09:00â€“11:00 â€” ØµØ¨Ø§Ø­Ù‹Ø§','ÙŠÙˆÙ…ÙŠÙ‹Ø§ 18:00â€“21:00 â€” Ù…Ø³Ø§Ø¡Ù‹','Ø¬Ø±Ù‘Ø¨ Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ ÙˆØ§Ù„Ø®Ù…ÙŠØ³ Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù†ØªØ§Ø¦Ø¬']
        },
        shop: {
          high: ['Ø§Ù„Ø£Ø­Ø¯ 18:00â€“21:00 â€” Ù†ÙŠØ© Ø´Ø±Ø§Ø¡ Ø£Ø¹Ù„Ù‰','Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ 12:00â€“14:00 â€” ÙˆÙ‚Øª Ø§Ø³ØªØ±Ø§Ø­Ø©','Ø§Ù„Ø®Ù…ÙŠØ³ 19:00â€“22:00 â€” ØªØµÙØ­ Ù…Ø³Ø§Ø¦ÙŠ'],
          med:  ['Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† 19:00â€“21:00 â€” Ø¨Ø¹Ø¯ Ø§Ù„Ø¯ÙˆØ§Ù…','Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡ 12:00â€“14:00 â€” Ø§Ø³ØªØ±Ø§Ø­Ø©','Ø§Ù„Ø³Ø¨Øª 11:00â€“13:00 â€” Ù‚Ø¨Ù„ Ø§Ù„Ø®Ø±ÙˆØ¬'],
          low:  ['Ø§Ø¨Ø¯Ø£ Ø¨Ù€ 12:00â€“14:00 Ø«Ù… 19:00â€“21:00','Ø§Ø®ØªØ¨Ø± Ø¹Ø±ÙˆØ¶/Ø®ØµÙˆÙ…Ø§Øª Ù‚ØµÙŠØ±Ø©','Ø±ÙƒÙ‘Ø² Ø¹Ù„Ù‰ Reels Ø§Ù„Ù…Ù†ØªØ¬']
        },
        restaurant: {
          high: ['Ø§Ù„Ø®Ù…ÙŠØ³ 16:00â€“19:00 â€” Ù‚Ø¨Ù„ Ø§Ù„Ø¹Ø´Ø§Ø¡','Ø§Ù„Ø¬Ù…Ø¹Ø© 12:00â€“14:00 â€” ÙˆÙ‚Øª ØºØ¯Ø§Ø¡','Ø§Ù„Ø³Ø¨Øª 17:00â€“20:00 â€” Ù‚Ø±Ø§Ø± Ø§Ù„Ø®Ø±ÙˆØ¬'],
          med:  ['Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† 11:00â€“13:00 â€” ØºØ¯Ø§Ø¡','Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡ 16:00â€“18:00 â€” Ù‚Ø¨Ù„ Ø§Ù„Ø¹Ø´Ø§Ø¡','Ø§Ù„Ø¬Ù…Ø¹Ø© 17:00â€“19:00 â€” Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù…Ø³Ø§Ø¡'],
          low:  ['Ø±ÙƒØ² Ø¹Ù„Ù‰ 11:00â€“13:00 Ùˆ 16:00â€“19:00','Ø³ØªÙˆØ±ÙŠ ÙŠÙˆÙ…ÙŠØ© Ù„Ù„Ø¹Ø±ÙˆØ¶','ØµÙˆØ±/ÙÙŠØ¯ÙŠÙˆ Ù‚ØµÙŠØ±Ø© Ù„Ù„Ø£Ø·Ø¨Ø§Ù‚']
        },
        personal: {
          high: ['Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ 20:00â€“23:00 â€” Ù…ØªØ§Ø¨Ø¹Ø© Ø¹Ø§Ù„ÙŠØ©','Ø§Ù„Ø®Ù…ÙŠØ³ 19:00â€“22:00 â€” ÙˆÙ‚Øª ØªØ±ÙÙŠÙ‡','Ø§Ù„Ø£Ø­Ø¯ 18:00â€“21:00 â€” ØªØ®Ø·ÙŠØ· Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹'],
          med:  ['Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† 19:00â€“21:00 â€” Ø¨Ø¹Ø¯ Ø§Ù„Ø¯ÙˆØ§Ù…','Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡ 20:00â€“22:00 â€” Ù…Ø³Ø§Ø¦ÙŠ','Ø§Ù„Ø³Ø¨Øª 12:00â€“15:00 â€” ÙˆÙ‚Øª ÙØ±Ø§Øº'],
          low:  ['Ø§Ø¨Ø¯Ø£ Ù…Ø³Ø§Ø¡Ù‹ 19:00â€“22:00','Ø«Ø¨Ù‘Øª 3 Ø£ÙŠØ§Ù… Ù†Ø´Ø±','Ø§Ø´ØªØºÙ„ Ø¹Ù„Ù‰ Ø³Ù„Ø³Ù„Ø© Ù…Ø­ØªÙˆÙ‰']
        },
        education: {
          high: ['Ø§Ù„Ø£Ø­Ø¯ 18:00â€“21:00 â€” Ø§Ø³ØªØ¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹','Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ 10:00â€“12:00 â€” ØªØ±ÙƒÙŠØ² Ø£Ø¹Ù„Ù‰','Ø§Ù„Ø®Ù…ÙŠØ³ 18:00â€“20:00 â€” Ù…Ø±Ø§Ø¬Ø¹Ø©'],
          med:  ['Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† 10:00â€“12:00 â€” ØµØ¨Ø§Ø­','Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡ 18:00â€“20:00 â€” Ù…Ø³Ø§Ø¦ÙŠ','Ø§Ù„Ø³Ø¨Øª 11:00â€“13:00 â€” Ù‚Ø¨Ù„ Ø§Ù„Ø¸Ù‡Ø±'],
          low:  ['Ø§Ø¨Ø¯Ø£ Ø¨Ø¬Ø¯ÙˆÙ„ Ø«Ø§Ø¨Øª + ÙƒØ§Ø±ÙˆØ³ÙŠÙ„','Ø§Ø¹Ù…Ù„ Reels ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù‚ØµÙŠØ±Ø©','CTA ÙˆØ§Ø¶Ø­ Ù„Ù„Ø­ÙØ¸ ÙˆØ§Ù„Ù…Ø´Ø§Ø±ÙƒØ©']
        },
        services: {
          high: ['Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ 09:00â€“11:00 â€” ÙˆÙ‚Øª Ù…Ù‡Ù†ÙŠ','Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡ 18:00â€“20:00 â€” Ø¨Ø¹Ø¯ Ø§Ù„Ø¯ÙˆØ§Ù…','Ø§Ù„Ø®Ù…ÙŠØ³ 09:00â€“11:00 â€” Ù‚Ø±Ø§Ø± Ø´Ø±Ø§Ø¡ Ø®Ø¯Ù…Ø§Øª'],
          med:  ['Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† 09:00â€“11:00 â€” Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹','Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡ 10:00â€“12:00 â€” Ù…Ù†ØªØµÙ','Ø§Ù„Ø¬Ù…Ø¹Ø© 14:00â€“16:00 â€” Ù‚Ø¨Ù„ Ø§Ù„ÙˆÙŠÙƒÙ†Ø¯'],
          low:  ['Ø±ÙƒØ² Ø¹Ù„Ù‰ ØµØ¨Ø§Ø­ÙŠØ§Øª 09:00â€“11:00','Ø£Ø¸Ù‡Ø± Ù†ØªØ§Ø¦Ø¬/Case Studies','Ø³ØªÙˆØ±ÙŠ Ø±Ø¯ÙˆØ¯/Ø£Ø³Ø¦Ù„Ø©']
        }
      };

      const pack = base[category] || base.general;
      if(engRate >= 3) return pack.high;
      if(engRate >= 1) return pack.med;
      return pack.low;
    }

    // ===== Analysis =====
    let lastResult = null;

    form.addEventListener('submit', function(e){
      e.preventDefault();
      showWarn('');

      const followers = clampInt(elFollowers.value, 1, 1000000000);
      const nInput = clampInt(elNposts.value, 1, 100);

      const likesRaw = elLikes.value.trim();
      const commentsRaw = elComments.value.trim();

      const likesArr = parseNumbersField(likesRaw);
      const commentsArr = parseNumbersField(commentsRaw);

      if(!likesArr.length && !commentsArr.length){
        showWarn('Ø±Ø¬Ø§Ø¡Ù‹ Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¥Ø¹Ø¬Ø§Ø¨Ø§Øª Ø£Ùˆ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª (Ù…Ø¬Ù…ÙˆØ¹ Ø£Ùˆ Ù‚Ø§Ø¦Ù…Ø©).');
        return;
      }

      // Ø§Ø³ØªÙ†ØªØ§Ø¬ N Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù‚Ø§Ø¦Ù…Ø© (Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø£ØµØºØ± Ø¨ÙŠÙ† Ø§Ù„Ù‚Ø§Ø¦Ù…ØªÙŠÙ† Ù„Ø¶Ù…Ø§Ù† Ø§Ù„ØªÙˆØ§ÙÙ‚)
      const listLens = [likesArr.length, commentsArr.length].filter(x => x > 0);
      const inferredN = listLens.length ? Math.min(...listLens) : 0;
      const nUsed = inferredN ? inferredN : nInput;

      const likesUsed = likesArr.slice(0, nUsed);
      const commentsUsed = commentsArr.slice(0, nUsed);

      // Ø¥Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… ÙˆØ§Ø­Ø¯ ÙÙ‚Ø· Ø¨Ø¯ÙˆÙ† ÙÙˆØ§ØµÙ„ ÙˆÙ…Ø¹ Ø°Ù„Ùƒ N>1 â†’ ØºØ§Ù„Ø¨Ù‹Ø§ ÙŠÙ‚ØµØ¯ "Ù…Ø¬Ù…ÙˆØ¹"
      const isSingleLikesTotal = (likesArr.length === 1 && !/[, \n\r\t]/.test(likesRaw) && nUsed === nInput && nInput > 1);
      const isSingleCommentsTotal = (commentsArr.length === 1 && !/[, \n\r\t]/.test(commentsRaw) && nUsed === nInput && nInput > 1);

      const likesTotal = isSingleLikesTotal ? likesArr[0] : sum(likesUsed);
      const commentsTotal = isSingleCommentsTotal ? commentsArr[0] : sum(commentsUsed);

      const avgLikes = (likesTotal / nUsed) || 0;
      const avgComments = (commentsTotal / nUsed) || 0;

      // ER mode
      const mode = elMode.value;
      let engagement = 0;
      if(mode === 'followers'){
        engagement = followers > 0 ? ((avgLikes + avgComments) / followers) * 100 : 0;
      } else {
        // ER by Posts (ØªÙ‚Ø±ÙŠØ¨ Ø¹Ù…Ù„ÙŠ: Ù…ØªÙˆØ³Ø· Ø§Ù„ØªÙØ§Ø¹Ù„ ÙƒÙ†Ø³Ø¨Ø© Ù…Ù† Ù…ØªÙˆØ³Ø· Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ† ØºÙŠØ± Ù…Ù†Ø·Ù‚ÙŠ Ø¨Ø¯ÙˆÙ† reachØŒ
        // ÙÙ†Ø¹ØªØ¨Ø±Ù‡Ø§ "Ù…ØªÙˆØ³Ø· ØªÙØ§Ø¹Ù„ Ù„ÙƒÙ„ Ù…Ù†Ø´ÙˆØ±" ÙƒÙ†Ø³Ø¨Ø© Ù…Ù† Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ† Ø£ÙŠØ¶Ù‹Ø§ (ÙŠØ¨Ù‚Ù‰ Ù‚Ø±ÙŠØ¨ Ù…Ù† Ø§Ù„Ù‚ÙŠØ§Ø³).
        engagement = followers > 0 ? ((avgLikes + avgComments) / followers) * 100 : 0;
      }
      const engRounded = Math.round(engagement * 100) / 100;

      // Extra stats
      const bestLike = likesUsed.length ? Math.max(...likesUsed) : 0;
      const worstLike = likesUsed.length ? Math.min(...likesUsed) : 0;
      const medLike = likesUsed.length ? median(likesUsed) : 0;

      const bestCom = commentsUsed.length ? Math.max(...commentsUsed) : 0;
      const worstCom = commentsUsed.length ? Math.min(...commentsUsed) : 0;
      const medCom = commentsUsed.length ? median(commentsUsed) : 0;

      // Render
      document.getElementById('avgLikes').textContent = formatNum(avgLikes);
      document.getElementById('avgComments').textContent = formatNum(avgComments);
      document.getElementById('engagement').textContent = engRounded + '%';

      const metaEl = document.getElementById('meta');
      metaEl.innerHTML =
        `ØªÙ… Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø¹Ù„Ù‰ <strong>${nUsed}</strong> Ù…Ù†Ø´ÙˆØ±` +
        (inferredN ? ` <span style="color:var(--muted)">(ØªÙ… Ø§Ø³ØªÙ†ØªØ§Ø¬ N Ù…Ù† Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ø¯Ø®Ù„Ø©)</span>` : '') +
        ` â€¢ Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø­Ø³Ø§Ø¨: <strong>${mode === 'followers' ? 'ER by Followers' : 'ER by Posts'}</strong>`;

      const extraEl = document.getElementById('extraStats');
      extraEl.innerHTML =
        `<li>Ù„Ø§ÙŠÙƒØ§Øª â€” Ø£Ø¹Ù„Ù‰: <strong>${formatNum(bestLike)}</strong> | Ø£Ù‚Ù„: <strong>${formatNum(worstLike)}</strong> | Median: <strong>${formatNum(medLike)}</strong></li>` +
        `<li>ØªØ¹Ù„ÙŠÙ‚Ø§Øª â€” Ø£Ø¹Ù„Ù‰: <strong>${formatNum(bestCom)}</strong> | Ø£Ù‚Ù„: <strong>${formatNum(worstCom)}</strong> | Median: <strong>${formatNum(medCom)}</strong></li>`;

      const times = suggestBestTimes(engRounded, elCategory.value);
      const bestTimesEl = document.getElementById('bestTimes');
      bestTimesEl.innerHTML = '';
      times.forEach(t => {
        const li = document.createElement('li');
        li.textContent = t;
        bestTimesEl.appendChild(li);
      });

      document.getElementById('output').style.display = 'block';

      // Save last result for copy/export/share
      lastResult = {
        acc: elAccount.value || '',
        fol: followers,
        n: nUsed,
        mode,
        category: elCategory.value,
        avgLikes: Math.round(avgLikes),
        avgComments: Math.round(avgComments),
        engagement: engRounded,
        bestLike, worstLike, medLike,
        bestCom, worstCom, medCom,
        lRaw: likesRaw,
        cRaw: commentsRaw
      };

      showWarn('ØªÙ… Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­ âœ… ÙŠÙ…ÙƒÙ†Ùƒ Ù†Ø³Ø® Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø£Ùˆ ØªÙ†Ø²ÙŠÙ„ CSV Ø£Ùˆ Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø±Ø§Ø¨Ø·.', true);
      saveToLS();
    });

    // ===== Buttons =====
    document.getElementById('clearBtn').addEventListener('click', ()=> {
      elAccount.value='';
      elFollowers.value='';
      elNposts.value='10';
      elLikes.value='';
      elComments.value='';
      elMode.value='followers';
      elCategory.value='general';
      lastResult = null;
      document.getElementById('output').style.display='none';
      showWarn('');
      try{ localStorage.removeItem(LS_KEY); }catch(e){}
      // ØªÙ†Ø¸ÙŠÙ params
      try{
        const url = new URL(window.location.href);
        url.search = '';
        history.replaceState({}, '', url.toString());
      }catch(e){}
    });

    document.getElementById('copyBtn').addEventListener('click', ()=> {
      if(!lastResult){ showWarn('Ø§Ø­Ø³Ø¨ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø£ÙˆÙ„Ù‹Ø§ Ø«Ù… Ø§Ù†Ø³Ø® Ø§Ù„ØªÙ‚Ø±ÙŠØ±.'); return; }

      const acc = lastResult.acc || '(ØºÙŠØ± Ù…Ø­Ø¯Ø¯)';
      const txt =
`ØªÙ‚Ø±ÙŠØ± ØªØ­Ù„ÙŠÙ„ Ø¥Ù†Ø³ØªØºØ±Ø§Ù… â€” Viva Media Creative
Ø§Ù„Ø­Ø³Ø§Ø¨: ${acc}
Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙˆÙ†: ${lastResult.fol.toLocaleString()}
Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª Ø§Ù„Ù…ÙØ­Ù„Ù„Ø©: ${lastResult.n}
Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„: ${lastResult.engagement}%
Ù…ØªÙˆØ³Ø· Ø§Ù„Ø¥Ø¹Ø¬Ø§Ø¨Ø§Øª: ${lastResult.avgLikes.toLocaleString()}
Ù…ØªÙˆØ³Ø· Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª: ${lastResult.avgComments.toLocaleString()}

Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¥Ø¶Ø§ÙÙŠØ©:
Ù„Ø§ÙŠÙƒØ§Øª â€” Ø£Ø¹Ù„Ù‰: ${formatNum(lastResult.bestLike)} | Ø£Ù‚Ù„: ${formatNum(lastResult.worstLike)} | Median: ${formatNum(lastResult.medLike)}
ØªØ¹Ù„ÙŠÙ‚Ø§Øª â€” Ø£Ø¹Ù„Ù‰: ${formatNum(lastResult.bestCom)} | Ø£Ù‚Ù„: ${formatNum(lastResult.worstCom)} | Median: ${formatNum(lastResult.medCom)}
`.trim();

      if(navigator.clipboard && navigator.clipboard.writeText){
        navigator.clipboard.writeText(txt).then(
          ()=> showWarn('ØªÙ… Ù†Ø³Ø® Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø© âœ…', true),
          ()=> alert('Ù†Ø³Ø® ÙØ´Ù„ â€” Ø§Ù†Ø³Ø® ÙŠØ¯ÙˆÙŠÙ‹Ø§:\n' + txt)
        );
      } else {
        alert('Ø§Ù†Ø³Ø® ÙŠØ¯ÙˆÙŠÙ‹Ø§:\n' + txt);
      }
    });

    document.getElementById('csvBtn').addEventListener('click', ()=> {
      if(!lastResult){ showWarn('Ø§Ø­Ø³Ø¨ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø£ÙˆÙ„Ù‹Ø§ Ø«Ù… Ø­Ù…Ù„ CSV.'); return; }

      const rows = [
        ['account','followers','n_used','mode','category','engagement_percent','avg_likes','avg_comments','best_like','worst_like','median_like','best_comment','worst_comment','median_comment'],
        [
          lastResult.acc,
          lastResult.fol,
          lastResult.n,
          lastResult.mode,
          lastResult.category,
          lastResult.engagement,
          lastResult.avgLikes,
          lastResult.avgComments,
          Math.round(lastResult.bestLike),
          Math.round(lastResult.worstLike),
          Math.round(lastResult.medLike),
          Math.round(lastResult.bestCom),
          Math.round(lastResult.worstCom),
          Math.round(lastResult.medCom)
        ]
      ];

      const csv = rows.map(r => r.map(v => `"${String(v ?? '').replace(/"/g,'""')}"`).join(',')).join('\n');
      const blob = new Blob([csv], {type:'text/csv;charset=utf-8;'});
      const url = URL.createObjectURL(blob);

      const a = document.createElement('a');
      a.href = url;
      a.download = 'instagram-analysis-viva.csv';
      document.body.appendChild(a);
      a.click();
      a.remove();

      URL.revokeObjectURL(url);
      showWarn('ØªÙ… ØªÙ†Ø²ÙŠÙ„ Ù…Ù„Ù CSV âœ…', true);
    });

    document.getElementById('shareBtn').addEventListener('click', ()=> {
      if(!lastResult){ showWarn('Ø§Ø­Ø³Ø¨ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø£ÙˆÙ„Ù‹Ø§ Ø«Ù… Ø´Ø§Ø±Ùƒ Ø§Ù„Ø±Ø§Ø¨Ø·.'); return; }

      const shareURL = buildShareURL(lastResult);
      try{
        history.replaceState({}, '', shareURL);
      }catch(e){}

      if(navigator.clipboard && navigator.clipboard.writeText){
        navigator.clipboard.writeText(shareURL).then(
          ()=> showWarn('ØªÙ… Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© âœ…', true),
          ()=> alert('Ø§Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· ÙŠØ¯ÙˆÙŠÙ‹Ø§:\n' + shareURL)
        );
      } else {
        alert('Ø§Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·:\n' + shareURL);
      }
    });

    document.getElementById('printBtn').addEventListener('click', ()=> {
      if(!lastResult){ showWarn('Ø§Ø­Ø³Ø¨ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø£ÙˆÙ„Ù‹Ø§ Ø«Ù… Ø§Ø·Ø¨Ø¹ Ø§Ù„ØªÙ‚Ø±ÙŠØ±.'); return; }
      window.print();
    });
  </script>
</body>
</html>

